"use strict";var j={breaker:{},version:"0.9",forEach:function(obj,fn,scope){var i,len,keys;if(null===obj)return obj;if(Array.prototype.forEach&&obj.forEach===Array.prototype.forEach)obj.forEach(fn,scope);else if(obj.length===+obj.length){for(i=0,len=obj.length;len>i;i+=1)if(fn.call(scope,obj[i],i,obj)===this.breaker)return}else for(keys=this.keys(obj),i=0,len=keys.length;len>i;i+=1)if(fn.call(scope,obj[keys[i]],keys[i],obj)===this.breaker)return;return obj},trim:function(string){return null===string?"":String.prototype.trim?String.prototype.trim.call(string):string.replace(/^\s+|\s+$/g,"")},trimLeft:function(string){return null===string?"":String.prototype.trimLeft?String.prototype.trimLeft.call(string):string.replace(/^\s+/,"")},trimRight:function(string){return null===string?"":String.prototype.trimLeft?String.prototype.trimRight.call(string):string.replace(/\s+$/,"")},stringContains:function(string,content){return String.prototype.contains&&string.contains(content),-1!==string.indexOf(content)},keys:function(obj){if(!this.isObject(obj))return[];if(Object.keys)return Object.keys(obj);var key,keys=[];for(key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys},isObject:function(obj){return obj===Object(obj)},loadFile:function(items,fn){function loadJs(fileName){var script;return script=document.createElement("script"),script.async=!0,script.setAttribute("type","text/javascript"),script.setAttribute("src",fileName),script}function loadCss(fileName){var script;return script=document.createElement("link"),script.async=!0,script.setAttribute("rel","stylesheet"),script.setAttribute("type","text/css"),script.setAttribute("href",fileName),script}function Callback(){this.readyState?("complete"===this.readyState||"loaded"===this.readyState)&&(next+=1):next+=1,counter===next&&fn()}var fileName,fileType,script,counter=items.length,next=0,i=0;for(i=0;i<items.length;i+=1)fileName=items[i].fileName,fileType=items[i].fileType,script=void 0,this.checkIfFileLoaded(fileName,fileType)?("js"===fileType?script=loadJs(fileName):"css"===fileType&&(script=loadCss(fileName)),"undefined"!=typeof script&&(fn&&(script.addEventListener?script.addEventListener("load",Callback,!1):script.readyState&&(script.onreadystatechange=Callback)),this.selectByTag("head")[0].appendChild(script))):next+=1},checkIfFileLoaded:function(fileName,fileType){var i,elems="";if("js"===fileType){for(elems=this.selectByTag("script"),i=0;i<elems.length;i+=1)if(null!==elems[i].getAttribute("src")&&this.stringContains(elems[i].getAttribute("src"),fileName))return!1}else if("css"===fileType)for(elems=this.selectByTag("link"),i=0;i<elems.length;i+=1)if(this.stringContains(elems[i].getAttribute("href"),fileName))return!1;return!0},onPageLoaded:function(fn){if(window.addEventListener)window.addEventListener("load",function(){fn()},!1);else if(window.attachEvent)window.attachEvent("onload",function(){fn()});else if(window.onload){var curronload=window.onload,newonload=function(){curronload(),fn()};window.onload=newonload}else window.onload=function(){fn()}},onDomReady:function(fn){function fnWrapper(){"complete"===document.readyState&&fn()}"complete"===document.readyState?fn():document.addEventListener?document.addEventListener("DOMContentLoaded",function(){fn()},!1):document.attachEvent&&document.attachEvent("onreadystatechange",fnWrapper)},addEvent:function(html_element,event_name,event_function){html_element.addEventListener?html_element.addEventListener(event_name,event_function,!1):html_element.attachEvent&&html_element.attachEvent("on"+event_name,function(){event_function.call(html_element)})},removeEvent:function(html_element,event_name,event_function){html_element.removeEventListener?html_element.removeEventListener(event_name,event_function,!1):html_element.detachEvent&&html_element.detachEvent("on"+event_name,function(){event_function.call(html_element)})},triggerEvent:function(element,event_name){var event;document.createEvent?(event=document.createEvent("Event"),event.initEvent(event_name,!0,!1),element.dispatchEvent(event)):document.createEventObject&&(event=document.createEventObject(),element.fireEvent("on"+event_name,event))},setFullBackground:function(link,target){var element;target="undefined"!=typeof target?target:"html",0===this.nameType(target)?element=this.selectById(target.substring(1)):1===this.nameType(target)?element=this.selectByClass(target.substring(1))[0]:2===this.nameType(target)&&(element=this.selectByTag(target)[0]),element.style.background="url('"+link+"') no-repeat center center fixed",element.style.webkitBackgroundSize="cover",element.style.MozBackgroundSize="cover",element.style.OBackgroundSize="cover",element.style.backgroundSize="cover"},select:function(element,scope){return 0===this.nameType(element)?element=this.selectById(element.substring(1),scope):1===this.nameType(element)?element=this.selectByClass(element.substring(1),scope):2===this.nameType(element)&&(element=this.selectByTag(element,scope)),element},selectById:function(element,scope){return void 0===scope?document.getElementById(element):scope.getElementById(element)},selectByClass:function(element,scope){void 0===scope&&(scope=document);var elements,i,nodeList,result=[];if(scope.getElementsByClassName){for(nodeList=scope.getElementsByClassName(element),nodeList=[].slice.call(nodeList),i=0;i<nodeList.length;i+=1)result.push(nodeList[i]);return result}for(elements=j.selectByTag("*",scope),i=0;i<elements.length;i+=1)this.stringContains(elements[i].className,element)&&result.push(elements[i]);return result},selectByTag:function(element,scope){var elements,i,result=[];if(void 0===scope)for(elements=document.getElementsByTagName(element),i=0;i<elements.length;i+=1)result.push(elements[i]);else for(elements=scope.getElementsByTagName(element),i=0;i<elements.length;i+=1)result.push(elements[i]);return result},selectByQuery:function(query,scope){var elements,i,result=[];if(void 0===scope)for(elements=document.querySelectorAll(query),i=0;i<elements.length;i+=1)result.push(elements[i]);else for(elements=scope.querySelectorAll(query),i=0;i<elements.length;i+=1)result.push(elements[i]);return result},selectParentById:function(id,element){return element.parentNode.getAttribute("id")===id?element.parentNode:this.selectParentById(id,element.parentNode)},selectParentByClass:function(className,element){return this.hasClass(className,element.parentNode)?element.parentNode:this.selectParentByClass(className,element.parentNode)},selectParentByTag:function(tag,element){return element.parentNode.tagName===tag.toUpperCase?element.parentNode:this.selectParentByTag(tag,element.parentNode)},nameType:function(element){return"#"===element.charAt(0)?0:"."===element.charAt(0)?1:2},first:function(element){return element.length>=1&&(element=element[0]),element},addClass:function(className,element){var i,elemI;if("[object Array]"===Object.prototype.toString.call(element))for(elemI=0;elemI<element.length;elemI+=1)this.addClass(className,element[elemI]);else if(className=className.split(" "),element.classList)for(i=0;i<className.length;i+=1)element.classList.add(className[i]);else for(i=0;i<className.length;i+=1)this.hasClass(className[i],element)&&this.removeClass(className[i],element),element.className=0===element.className.length?className[i]:element.className+" "+className[i];return element},removeClass:function(className,element){var i,elemI;if("[object Array]"===Object.prototype.toString.call(element))for(elemI=0;elemI<element.length;elemI+=1)this.removeClass(className,element[elemI]);else if(className=className.split(" "),element.classList)for(i=0;i<className.length;i+=1)element.classList.remove(className[i]);else for(i=0;i<className.length;i+=1)element.className=element.className.replace(" "+className[i],""),element.className=element.className.replace(className[i],"")," "===element.className[0]&&(element.className=element.className.substring(1));return element},hasClass:function(className,element){var classList,i,len;if(element.classList)return element.classList.contains(className);for(classList=element.className.split(" "),len=classList.length,i=0;len>i;i+=1)if(className===classList[i])return!0;return!1},toggleClass:function(className,element){var elemI;if("[object Array]"===Object.prototype.toString.call(element))for(elemI=0;elemI<element.length;elemI+=1)this.toggleClass(className,element[elemI]);else this.hasClass(className,element)?this.removeClass(className,element):this.addClass(className,element)},getStyle:function(element,property){return void 0!==window.getComputedStyle?window.getComputedStyle(element,null).getPropertyValue(property):element.currentStyle[property]},createFloatingBox:function(element){function moveBox(e){stopMove||(topBar.parentNode.style.top=e.clientY-topBar.top+"px",topBar.parentNode.style.left=e.clientX-topBar.left+"px")}function mouseUp(){window.removeEventListener("mousemove",moveBox,!1),stopMove=!1}function mouseDown(){topBar.top=e.clientY-parseInt(topBar.parentNode.style.top,10),topBar.left=e.clientX-parseInt(topBar.parentNode.style.left,10),window.addEventListener("mousemove",moveBox,!1)}function mouseDownClose(){stopMove=!0}function moveUp(){var zIndex;self.selectByClass("floatingBoxBar").forEach(function(entry){zIndex=entry.parentNode.style.zIndex,(""===zIndex||50>zIndex)&&(zIndex=50),entry.parentNode.style.zIndex=zIndex-1}),element.style.zIndex=100}var leftTopBar,rightTopBar,text,clearTopBar,stopMove=!1,topBar=document.createElement("div"),self=this;return element=this.select(element),this.first(element),this.addClass("floatingBoxBar",topBar),topBar.addEventListener("mousedown",mouseDown,!1),window.addEventListener("mouseup",mouseUp,!1),leftTopBar=document.createElement("div"),leftTopBar.style.float="left",text=document.createTextNode("Bar"),leftTopBar.appendChild(text),rightTopBar=document.createElement("div"),rightTopBar.style.float="right",text=document.createTextNode("Close"),rightTopBar.onclick=function(){topBar.parentNode.style.display="none",stopMove=!1},rightTopBar.addEventListener("mousedown",mouseDownClose,!1),rightTopBar.appendChild(text),clearTopBar=document.createElement("div"),clearTopBar.style.clear="both",topBar.appendChild(leftTopBar),topBar.appendChild(rightTopBar),topBar.appendChild(clearTopBar),element.insertBefore(topBar,element.firstChild),element.addEventListener("mousedown",moveUp,!1),element},showFloatingBox:function(element){var zIndex;this.selectByClass("floatingBoxBar").forEach(function(entry){zIndex=entry.parentNode.style.zIndex,(""===zIndex||50>zIndex)&&(zIndex=50),entry.parentNode.style.zIndex=zIndex-1}),element=this.first(this.select(element)),element.style.display="block",element.style.zIndex=100},getQueryParams:function(){for(var tokens,qs=document.location.search.split("+").join(" "),params={},re=/[?&]?([^=]+)=([^&]*)/g;null!==(tokens=re.exec(qs));)params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2]);return params},throttle:function(fn,threshold,scope){threshold||(threshold=250);var last,deferTimer;return function(){var now,args,context=scope||this;now=+new Date,args=arguments,last&&last+threshold>now?(clearTimeout(deferTimer),deferTimer=setTimeout(function(){last=now,fn.apply(context,args)},threshold)):(last=now,fn.apply(context,args))}},debounce:function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;clearTimeout(timeout),timeout=setTimeout(function(){timeout=null,immediate||func.apply(context,args)},wait),immediate&&!timeout&&func.apply(context,args)}},loadGoogleFont:function(fonts){var protocol,key;protocol="https:"===document.location.protocol?"https":"http";for(key in fonts)fonts.hasOwnProperty(key)&&this.loadFile([{fileName:protocol+"://fonts.googleapis.com/css?family="+key+":"+fonts[key],fileType:"css"}])},loadFont:function(fonts){var styleElement=document.createElement("style");styleElement.setAttribute("type","text/css"),void 0!==fonts.light&&(styleElement.innerHTML+="@font-face{\nfont-family: '"+fonts.name+"';\nfont-weight:300;\nsrc: url(",void 0!==fonts.light.otf&&(styleElement.innerHTML+="fonts/"+fonts.light.otf+");"),styleElement.innerHTML+="\n}\n"),void 0!==fonts.normal&&(styleElement.innerHTML+="@font-face{\nfont-family: '"+fonts.name+"';\nfont-weight:400;\nsrc: url(",void 0!==fonts.normal.otf&&(styleElement.innerHTML+="fonts/"+fonts.normal.otf+");"),styleElement.innerHTML+="\n}\n"),void 0!==fonts.bold&&(styleElement.innerHTML+="@font-face{\nfont-family: '"+fonts.name+"';\nfont-weight:700;\nsrc: url(",void 0!==fonts.bold.otf&&(styleElement.innerHTML+="fonts/"+fonts.bold.otf+");"),styleElement.innerHTML+="\n}\n"),this.selectByTag("head")[0].appendChild(styleElement)},isMobile:function(){var agent;return agent=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego)[\w\W]+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile[\w\W]+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(agent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(agent.substr(0,4))?!0:!1},get:function(target,callback){var xmlhttp;xmlhttp=new XMLHttpRequest,callback&&(xmlhttp.onreadystatechange=function(){4===xmlhttp.readyState&&200===xmlhttp.status&&callback(xmlhttp)}),xmlhttp.open("GET",target,!0),xmlhttp.send()},strip:function(html){var tmp=document.createElement("DIV");return tmp.innerHTML=html.replace("\\n"," "),tmp.textContent||tmp.innerText||""},share:function(element){var params={};params.url=element.getAttribute("data-url"),params.image=element.getAttribute("data-image"),params.title=element.getAttribute("data-title"),params.summary=element.getAttribute("data-summary"),params.shareType=element.getAttribute("data-share-type"),params.imgTitle=element.getAttribute("data-image-title"),params.width=element.getAttribute("data-image-width"),params.height=element.getAttribute("data-image-height"),params.socialTarget=element.getAttribute("data-type"),this.socialShare.publish(params)},socialShare:{publish:function(params){var link,windowParams;"facebook"===params.socialTarget?link="https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+params.url+"&p[images][0]="+encodeURIComponent(params.image)+"&p[title]="+encodeURIComponent(params.title)+"&p[summary]="+encodeURIComponent(j.strip(params.summary)):"twitter"===params.socialTarget?link="http://twitter.com/share?text="+encodeURIComponent(j.strip(params.summary))+"&url="+params.url:"linkedin"===params.socialTarget?link="http://www.linkedin.com/shareArticle?mini=true&url="+params.url+"&title="+params.title+"&summary="+j.strip(params.summary):"googleplus"===params.socialTarget?link="https://plus.google.com/share?url="+params.url:"googlebookmark"===params.socialTarget?link="http://www.google.com/bookmarks/mark?op=edit&bkmk="+params.url+"&title="+params.title+"&annotation="+params.summary:"pinterest"===params.socialTarget?link="http://pinterest.com/pin/create/button/?url="+params.url+"&media="+encodeURIComponent(params.image)+"&description="+params.summary:"tumblr"===params.socialTarget?link="photo"===params.sharetype?"http://www.tumblr.com/share/photo?source="+encodeURIComponent(params.image)+"&caption="+params.summary+"&click_thru="+encodeURIComponent(params.url):"http://www.tumblr.com/share/link?url="+encodeURIComponent(params.url)+"&name="+params.title+"&description="+params.summary:"delicious"===params.socialTarget?link="http://delicious.com/post?url="+params.url+"&title="+params.title+"&notes="+params.summary:"reddit"===params.socialTarget?link="http://www.reddit.com/submit?url="+params.url+"&title="+params.title:"tapiture"===params.socialTarget?link="http://tapiture.com/bookmarklet/image?img_src="+params.image+"&page_url="+params.url+"&page_title="+params.title+"&img_title="+params.imgTitle+"&img_width="+params.width+"img_height="+params.height:"stumbleupon"===params.socialTarget?link="http://www.stumbleupon.com/submit?url="+params.url+"&title="+params.title:"newsvine"===params.socialTarget&&(link="http://www.newsvine.com/_tools/seed&save?u="+params.url+"&h="+params.title),""!==link&&(windowParams="",windowParams="tumblr"===params.socialTarget?"toolbar=0,status=0,width=800,height=500":"googleplus"===params.socialTarget?"toolbar=0,status=0,width=600,height=600":"toolbar=0,status=0,width=626,height=436",window.open(link,"sharer",windowParams))},setTheme:function(targetElements,path,theme,invertTheme){function imagesManager(){function MouseOverNoTheme(){this.getElementsByTagName("img")[0].src=this.getAttribute("data-image-button-over")}function MouseOutNoTheme(){this.getElementsByTagName("img")[0].src=this.getAttribute("data-image-button")}function MouseOverTheme(){this.getElementsByTagName("img")[0].src=invertTheme===!0?path+this.getAttribute("data-type")+".png":path+this.getAttribute("data-type")+"over.png"}function MouseOutTheme(){this.getElementsByTagName("img")[0].src=invertTheme===!0?path+this.getAttribute("data-type")+"over.png":path+this.getAttribute("data-type")+".png"}var i,images,elems=j.selectByTag("a");if(""===path)for(i=0;i<elems.length;i+=1)j.hasClass(targetElements,elems[i])&&(elems[i].getElementsByTagName("img")[0].src=elems[i].getAttribute("data-image-button"),elems[i].onmouseover=MouseOverNoTheme,elems[i].onmouseout=MouseOutNoTheme);else for(path=path+"/"+theme+"/",images=[],i=0;i<elems.length;i+=1)j.hasClass(targetElements,elems[i])&&(images.push(new Image),invertTheme===!0?(images[images.length-1].src=path+elems[i].getAttribute("data-type")+".png",elems[i].getElementsByTagName("img")[0].src=path+elems[i].getAttribute("data-type")+"over.png",elems[i].onmouseover=MouseOverTheme,elems[i].onmouseout=MouseOutTheme):(images[images.length-1].src=path+elems[i].getAttribute("data-type")+"over.png",elems[i].getElementsByTagName("img")[0].src=path+elems[i].getAttribute("data-type")+".png",elems[i].onmouseover=MouseOverTheme,elems[i].onmouseout=MouseOutTheme))}imagesManager()}}};